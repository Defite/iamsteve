{layout="layouts/_layout-site" class="page-home"}

{!-- channel vars (prefix ch_) --}
{preload_replace:ch="blog"}
{preload_replace:ch_status="open|latest"}
{preload_replace:ch_disable="pagination|member_data|trackbacks"}
{preload_replace:ch_limit="8"}
{preload_replace:ch_limit_large="11"}
{preload_replace:design="design-default-{switch='3|1|2|4'}.svg"}
{preload_replace:code="code-default-{switch='1|4|2|3'}.svg"}

<div class="hero contain-medium contain-large mb2 mb4-d">
  <div class="hero-content">
    <h1 class="f3 f2-b f1-d mb0 primary hero-title"><img src="{global:theme_url}/dist/images/lettering.svg" alt="Learn design and code"></h1>
    {!--<p class="hide-sw">A blog covering design and code. Focused on design techniques with Illustrator and writing maintainable CSS.</p>
    <p class="hide-sw sans"><a href="{path='blog/index'}" class="link neutral">Browse the archive</a></p>--}
  </div>
  <picture class="hero-image">
    <source srcset="{global:theme_url}/dist/images/introduction-320.svg" media="(max-width: 399px)" sizes="100vw">
    <source srcset="{global:theme_url}/dist/images/introduction-394.svg" media="(min-width: 400px) and (max-width: 733px)" sizes="100vw">
    <source srcset="{global:theme_url}/dist/images/introduction-734.svg" media="(min-width: 734px) and (max-width: 1199px)" sizes="100vw">
    <source srcset="{global:theme_url}/dist/images/introduction-960.svg" media="(min-width: 1200px)">
    <img src="{global:theme_url}/dist/images/introduction-960.svg" alt="An illustration of a desk with a laptop and office supplies on it.">
  </picture>
</div>

<section class="grid-posts contain contain-medium contain-large pt7 pb6 pb8-d">
  {exp:channel:entries channel="{ch}" status="{ch_status}" disable="{ch_disable}" limit="{ch_limit_large}"}
  	{post_medium}
  {/exp:channel:entries}
  <a href="{path='blog/P12'}" class="card card-medium card-more transition flex center self-center">
    <h2 class="sans f2-l warm link-icon center self-center m0 pt4 pb4">
      All posts <span class="icon icon-medium icon-right secondary">{gv_arrow_right}</span>
    </h2>
  </a>
</section>

{embed="include/subscribe" class="row-cool"}

{exp:channel:categories channel="{ch}" show="7|2" status="{ch_status}" disable="{ch_disable}" style="linear" show_empty="no"}
  <section class="posts {if {count} == 1} pt6 pt8-d {/if} pb6 pb8-d" aria-labelledby="{category_url_title}-posts-title">
    <header class="row row-header contain contain-medium contain-large between">
      <h2 class="f5 f4-b chunky neutral row-title" id="{category_url_title}-posts-title">Popular in {category_url_title}</h2>
      <div class="pagination js-pagination">
        <button class="paginate paginate-left" aria-controls="{category_url_title}-posts" aria-label="Previous posts">
          <span class="icon icon-medium">{gv_arrow_left}</span>
        </button>
        <button class="paginate paginate-right" aria-controls="{category_url_title}-posts" aria-label="Next posts">
          <span class="icon icon-medium">{gv_arrow_right}</span>
        </button>
      </div>
    </header>
    <div class="scroll" id="{category_url_title}-posts">
      <div class="offsetter" role="presentation"></div>
      {exp:channel:entries channel="{ch}" status="{ch_status}" orderby="view_count_one" disable="{ch_disable}" limit="{ch_limit}" category="{category_id}" sort="desc" dynamic="no"}
      	{post_small}
      {/exp:channel:entries}
      <a href="{path='blog/category/design'}" class="card card-medium card-more transition flex center self-center">
        <h2 class="sans f6 f4-b warm link-icon center self-center m0 pt4 pb4">
          Explore {category_name} <span class="icon icon-medium icon-right secondary">{gv_arrow_right}</span>
        </h2>
      </a>
    </div>
  </section>
{/exp:channel:categories}
