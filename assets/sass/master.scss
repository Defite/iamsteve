@import "imports", "import/normalize";

@-webkit-viewport {
	width: device-width; }
@-moz-viewport {
	width: device-width; }
@-ms-viewport {
	width: device-width; }
@-o-viewport {
	width: device-width; }
@viewport {
	width: device-width; }
	
/* 
	!Base stucture
---------------------------------------------------------------------- */
html, body:after {
	font-family: "a"; }
html {
	padding-bottom: $base-px/4;
	/*
@include background(
		linear-gradient(
			0deg,
			$info 5%, 
			$warning 5%,
			$warning 10%, 
			$success 10%,
			$success 15%,
			$danger 15%,
			$danger 20%,
			$info 20%,
			$info 25%, 
			$warning 25%,
			$warning 30%, 
			$success 30%,
			$success 35%,
			$danger 35%,
			$danger 40%,
			$info 40%,
			$info 45%, 
			$warning 45%,
			$warning 50%, 
			$success 50%,
			$success 55%,
			$danger 55%,
			$danger 60%,
			$info 60%,
			$info 65%, 
			$warning 65%,
			$warning 70%, 
			$success 70%,
			$success 75%,
			$danger 75%,
			$danger 80%,
			$info 80%,
			$info 85%, 
			$warning 85%,
			$warning 90%, 
			$success 90%,
			$success 95%,
			$danger 95%,
			$danger 100%));
*/
	font-size: 100%; }
body {
	line-height: normal;
	color: $primary;
	background: url(../images/bg_wave.png); }
.container {
	@include pie-clearfix;
	@include rem(padding, $line 0 0);
	@extend %margin-bottom;
	@include box-shadow(0 1px 0 fade-out($white, 0.6), 0 6px 24px -6px fade-out($primary_d1, 0.4));
	position: relative;
	overflow: hidden;
	background: $primary;
	@include respond-min($c) {
		@include box-shadow(inset 0 1px 0 $black, inset 0 -1px 0 $primary, 0 1px 0 fade-out($white, 0.6), 0 12px 48px -24px $primary_d1); }
	@include respond-min($d) {
		background: $primary url(../images/header_bg_alt.png) center bottom no-repeat; }
	@include respond-to(retina) {
		background-size: cover; } }

// potential to break, old imgs without a figure in blog posts
article img {
	@extend %imgs;
	display: block; }
		
/* !header ---------------------- */
[role="banner"] {
	@extend %crm;
	@extend %transition;
	@include border-radius(4px 4px 0 0);
	position: relative;
	h1 {
		@extend %left;
		@extend %transition;
		@include wh(107px, 48px);
		@include hide-text;
		display: block;
		padding: 0;
		position: relative;
		background: url(../images/logo.png) center center no-repeat;
		&:hover, &:focus {
			background: url(../images/logo_hover.png) center center no-repeat; }
		@include respond-to(retina) {
			background: url(../images/logo_2x.png);
			background-size: 107px 48px;
			&:hover, &:focus {
				background-size: 96px;
				background: url(../images/logo_hover_2x.png) center center no-repeat; } } } }
	.title {
		@extend %ts;
		@include rem(padding, $line 0 $line*2);
		@include animation(title .5s .5s ease-in-out);
		@include animation-fill-mode(forwards);
		position: relative;
		top: 2000px;
		font-size: 72px;
		width: 88%;
		margin: auto;
		text-align: center;
		// -webkit-mask: url(../images/mask.png);
		.error & {
			text-transform: capitalize; }
		.no-cssanimations & {
			top: auto; }
		a {
			line-height: 1.185; } }

	
/* !nav ---------------------- */
@import "styles/navigation";
		
/* !section ---------------------- */
[role="region"] {
	@include pie-clearfix;
	width: $whole;
	margin: 0 0 $line;
	&:last-child {
		margin: 0;
		padding: 0;
		border: none; } }
[role="main"], [role="contentinfo"], .related {
	@extend %crm;
	clear: both; }
	
.me {
	img {
		@extend %rounded;
		@extend %shadow;
		margin: 0 cp(24px, 480px) 2.5% 0;
		vertical-align: bottom;
		display: inline-block;
		border: 6px solid $white;
		max-width: 40%;
		float: left; } }

.columns {
	@include column-count(2); }

@import "styles/dribbble";

/* !article ---------------------- */
[role="article"] {
	@include pie-clearfix;
	@include rem(padding, 0 0 $line);
	margin: auto;
	position: relative;
	@include respond-to($c) {
		@include rem(padding, 0 0 $line*2); }
	figure {
		@include pie-clearfix;
		@include rem(margin-bottom, $line);
		position: relative;
		img {
			display: block;
			margin: auto auto .75rem; } }
	figcaption {
		text-align: center; }
	@include respond-min($c) {
		padding-right: 7.5%;
		padding-left: 7.5%; }
	@include respond-min($d) {
		padding-right: 15.5%;
		padding-left: 15.5%; } }

/* !aside ---------------------- */
@import "styles/meta";

/* 
	!Typography & links
---------------------------------------------------------------------- */
@import "styles/typography";

/* !pagination ---------------------- */
@import "styles/pagination";

/* 
	Lists
---------------------------------------------------------------------- */
article {
	ul, ol {
		margin: 0 0 $line; } }
		
[role="contentinfo"] {
	ul {
		@extend %subtle-box;
		@include pie-clearfix;
		@include border-radius(4px);
		margin: 0; }
	li {
		display: inline-block;
		@include respond-min(520px) {
			float: right; }
		&:first-child {
			display: block;
			@include respond-min(520px) {
				display: inline-block;
				float: left; } }
	small {
		@include rem(padding, $base-px 0 0 $base-px/2); }
	.url, .author {
		display: inline-block;
		padding: 0; }
	a {
		@include rem(padding, $base-px $base-px/2);
		@extend %transition;
		&:hover, &:focus {
			color: $primary; } }
	small, a {
		@include rem(font-size, $base-px);
		margin: 0;
		display: block;
		color: $primary;
		color: fade-out($primary, 0.5); 
		@include respond-min($c) {
			height: 2.25rem;
			line-height: 2.25rem;
			@include rem(padding, 0 $base-px/2); }
		@include respond-min($d) {
			@include rem(font-size, 14px); } } } }

dl {
	line-height: 1.5; }
dt {
	@include rem(margin, $line 0 $base-px);
	&:first-of-type {
		margin-top: 0; } }
dd {
	margin: 0;
	padding: 0; }
		
/*
	!Buttons and notices
-----------------------------------------------------------------------*/
.button, .button-small {
	@include element($alt, $size: normal, $hover: true);
	@extend %letter-spacing;
	@include rem(font-size, 14px);
	white-space: nowrap; }

.button-small {
	@include rem(padding, 3px 6px);
	font-size: 70%; }


/* !notices ---------------------- */
.notice {
	a { color: $white; } }
.notice-default {
	@include element; }
.notice-warning {
	@include element($warning, $size: normal);
	width: 100%;
	text-align: center;
	a { 
		color: #fff;
		text-decoration: underline; } }
.notice-success {
	@include element($success, $size: normal, $hover: true);
	float: right;
	em { 
		@extend %mr6; } }


/*
	!Forms
-----------------------------------------------------------------------*/
@import "import/forms", "styles/forms";

/*
	!Page specifics
-----------------------------------------------------------------------*/
@import "styles/portfolio", "styles/about";


.related-entries {
	@include pie-clearfix;
	@extend %margin-bottom;
	@include respond-min($c) {
		@include rem(margin, 0 0 $line*2); }
	@include respond-min($d) {
		h1 {
			padding-left: 15.5%; } } }
.related-entry {
	width: 46.25%;
	&:first-of-type {
		float: left; }
	&:last-of-type {
		float: right; }
	p {
		@extend %margin-bottom; }
	@include respond-min($d) {
		width: 47.5%;
		&:first-of-type { 
			padding-left: 15.5%; }
		&:last-of-type { 
			padding-right: 15.5%; } } }


/* 
	Misc.
---------------------------------------------------------------------- */
.hiddenFields {
	display: none; }
iframe {
	width: 100%; }
hr {
	@extend %crm;
	@include box-shadow(0 1px 0 fade-out($white, 0.35));
	padding: 0;
	border: none;
	border-top: 1px dotted fade-out($primary, 0.4);
	background: $white;
	background: fade-out($white, 0.35);
	display: block;
	[role="main"] & {
		max-width: 100%;
		width: 100%; } }
	
.hover {
	-webkit-user-select: none;
	-webkit-touch-callout: none; }

section .gist {
	position: relative !important;
	.gist-file, .gist-data, .gist-highlight {
		position: relative;
		border-radius: 4px;
		background: none !important;
		border: none !important; }
	.gist-highlight {
		border-left: 4em solid fade-out($black, 0.95) !important;
		@include box-shadow(inset 1px 0 0 fade-out($white, 0.7)); }
	.gist-file .gist-data {
		@include border-radius(4px 4px 0 0 !important);
		@include box-shadow(0 0 0 1px #ccc, inset 0 1px 3px fade-out($black, 0.95), 0 1px 0 fade-out($white, 0.2) !important);
		border: none !important;
		border-bottom: none !important;
		overflow: auto;
		max-height: 500px;
		padding: 0 !important;
		background: none !important; }
	.gist-file .gist-data pre {
		padding: $base-px !important;
		border: none !important;
		box-shadow: none !important;
		counter-reset: linenumbers;
		div:before {
			@include user-select(none);
	    color: #999;
	    text-shadow: 0 1px 0 rgba(255,255,255,0.45);
	    content: counter(linenumbers);
	    counter-increment: linenumbers;
	    left: -4.5em;
	    position: absolute;
	    text-align: right;
	    @include rem(width, $line*2); } }
	.gist-meta {
		@include element(#444, $radius: 0 0 4px 4px);
		width: 100%;
		color: $white !important;
		a {
			color: $white !important; } }
	* {
		font-family: $monospace !important;
		font-size: .75rem; } }

/* figure ------------------------------ */
figure {
	@include pie-clearfix; }
figcaption {}

/* table ---------------------- */
table {
	border: 1px solid $primary;
	border-collapse: separate;
	background: #fff; }
td, th {
	padding: $line/4;
	line-height: $base-line-height;
	text-align: left;
	border-top: 1px solid $primary;
	&:nth-of-type(even) { 
		background: lighten($secondary, 21%); } }

/* !hide extras from services ---------------------- */
.js [id="wufoo-q7x3k1"] p {
	display: none; }
	
/* !screenreaders ---------------------- */
[for="keywords"], .screenreader { 
	@extend %screenreaders; }
	
/* !extends ---------------------- */
@import "styles/extends";

/* !lettering ---------------------- */
.space {
	@include rem(width, $line); }

/*
	Media queries
-----------------------------------------------------------------------*/
@import "screens/a", "screens/b", "screens/c", "screens/d", "screens/e", "screens/f", "screens/2x";