// 	----------------------------------------- 
//	Element â€” A base, mixin and options
//	Style anything consistently
//	Works well for anything else you'd like to style similar apart from buttons/forms
// 	-----------------------------------------
@mixin element-base {
	@include transition(none);
	display: inline-block;
	position: relative;
	font: 400 $base-font-size/1 $sans; }

/*
 # To do
 - subtle style
*/

@mixin element($main-colour: $default, $radius: $radius, $subtle: false, $shadow: true, $style: true, $size: false, $hover: false) {
	
	$size: unquote($size);
	$text-colour: $white;
	$light-colour: lighten($main-colour, 10%);
	$dark-colour: darken($main-colour, 15%);
	
	$hover-main-colour: lighten($main-colour, 5%);
	$hover-light-colour: lighten($light-colour, 5%);
	$hover-dark-colour: lighten($dark-colour, 5%);
	
	$active-main-colour: darken($main-colour, 7.5%);
	$active-light-colour: darken($light-colour, 7.5%);
	$active-dark-colour: darken($dark-colour, 10%);
	
	$subtle-colour: #666;
	
	@include element-base;
	
	@if $subtle == true { 
		color: $subtle-colour; }
	@else { 
		color: $text-colour; }
	
	
	@if $size == large {
		@include rem(padding, $base-px*1.5 $line*2);
		font-size: 150%; }
	@else if $size == normal {
		@include rem(padding, $base-px $line*1.25); }
	@else if $size == small {
		@include rem(padding, $base-px/2 $line/2);
		font-size: 90%; }
	@else if $size == xsmall {
		@include rem(padding, $base-px/4 $line/4);
		font-size: 85%; }
	@else if $size == false {}
	@else {
		@include rem(padding, $base-px/1.3333333333 $line); }
	
	@if $radius != none {
		@include border-radius($radius); }
	
	// you may just want a button without style 
	// as sometimes you may just want a nice start
	// padding, etc
	@if $style == true {
		// subtle start
		@if $subtle == true {
			@include box-shadow(0 0 0 1px fade-out($subtle-colour, 0.75));
			.no-boxshadow & {
				border: 1px solid lighten($active-dark-colour, 10%);
				border-bottom: 1px solid $active-dark-colour; }
			.no-cssgradients & {
				background: $active-main-colour; }
			@if $hover == true {
				&:hover, &:focus {
					@if lightness($main-colour) > 60% {
					  color: darken($text-colour, 80%); }
					@else {
					  color: $text-colour; }
					@include background(
						linear-gradient(
							$hover-main-colour 0%,
							fade-out($hover-dark-colour, 0.2) 90%), $hover-main-colour);
						
					@if $shadow == true {		
						@include box-shadow(
							0 1px 0 darken($hover-dark-colour, 5%),
							0 0 0 1px $hover-dark-colour,
							inset 0 1px 0 $hover-light-colour,
							0 1px 3px fade-out($black, 0.75)); }
					
					@if $radius != none {
						@include border-radius($radius); }
						
					text-shadow: 0 -1px 1px darken($hover-dark-colour, 15%);
					
					// modernizr stuff
					.no-boxshadow & {
						border: 1px solid lighten($hover-dark-colour, 10%);
						border-bottom: 1px solid $hover-dark-colour; }
					.no-cssgradients & {
						background: $hover-main-colour; } }
						
				&:active {
					color: $text-colour;
					@include background(
						linear-gradient(
							fade-out($active-dark-colour, 0.1) 0%,
							fade-out($active-dark-colour, 0.5) 100%), $active-main-colour);
						
					@if $shadow == true {		
						@include box-shadow(
							0 -1px 0 darken($active-dark-colour, 15%),
							0 0 0 1px $active-dark-colour,
							inset 0 1px 3px darken($active-dark-colour, 10%),
							0 1px 1px fade-out($white, 0.75));
						text-shadow: 0 -1px 1px darken($active-dark-colour, 15%); }
					
					@if $radius != none {
						@include border-radius($radius); }
					
					.no-boxshadow & {
						border: 1px solid lighten($active-dark-colour, 10%);
						border-bottom: 1px solid $active-dark-colour; }
					.no-cssgradients & {
						background: $active-main-colour; } } } } // close $subtle true
		// non subtle start		
		@else {
			@include background(
				linear-gradient(
					$main-colour 0%,
					fade-out($dark-colour, 0.2) 90%), $main-colour);
	
			@if $shadow == true {		
				@include box-shadow(
					0 1px 0 darken($dark-colour, 15%),
					0 0 0 1px $dark-colour,
					inset 0 1px 1px $light-colour,
					inset 0 -1px 3px $dark-colour,
					0 1px 3px fade-out($black, 0.75));
				text-shadow: 0 -1px 1px darken($dark-colour, 15%); }
			
			// modernizr stuff
			.no-boxshadow & {
				border: 1px solid $dark-colour;
				border-bottom: 1px solid darken($dark-colour, 15%); }
			.no-cssgradients & {
				background: $main-colour; }
			
			@if $hover == true {
				&:hover, &:focus {
					color: $text-colour;
					@include background(
						linear-gradient(
							$hover-main-colour 0%,
							fade-out($hover-dark-colour, 0.2) 90%), $hover-main-colour);
						
					@if $shadow == true {		
						@include box-shadow(
							0 1px 0 darken($hover-dark-colour, 5%),
							0 0 0 1px $hover-dark-colour,
							inset 0 1px 0 $hover-light-colour,
							0 1px 3px fade-out($black, 0.75)); }
					
					@if $radius != none {
						@include border-radius($radius); }
						
					text-shadow: 0 -1px 1px darken($hover-dark-colour, 15%);
					
					// modernizr stuff
					.no-boxshadow & {
						border: 1px solid lighten($hover-dark-colour, 10%);
						border-bottom: 1px solid $hover-dark-colour; }
					.no-cssgradients & {
						background: $hover-main-colour; } }
						
				&:active {
					color: $text-colour;
					@include background(
						linear-gradient(
							fade-out($active-dark-colour, 0.1) 0%,
							fade-out($active-dark-colour, 0.5) 100%), $active-main-colour);
						
					@if $shadow == true {		
						@include box-shadow(
							0 -1px 0 darken($active-dark-colour, 15%),
							0 0 0 1px $active-dark-colour,
							inset 0 1px 3px darken($active-dark-colour, 10%),
							0 1px 1px fade-out($white, 0.75));
						text-shadow: 0 -1px 1px darken($active-dark-colour, 15%); }
					
					@if $radius != none {
						@include border-radius($radius); }
					
					.no-boxshadow & {
						border: 1px solid lighten($active-dark-colour, 10%);
						border-bottom: 1px solid $active-dark-colour; }
					.no-cssgradients & {
						background: $active-main-colour; } } }
		} // close else
	} // close $style
}
