@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /**
   * grid
   */
  --grid-container: 1920px;
  --grid-content: 1344px;

  /* Compensates for additional grid gutters being included */
  --grid-margin: calc(48px - var(--grid-gutter));
  --grid-gutter: 32px;
  --grid-gap: 32px;
  --spacing: 8px;

  /* autoprefixer: off */
  --grid: [margin-start] var(--grid-margin) [container-start] repeat(2, 1fr)
    [prose-start] repeat(6, 1fr) [prose-end] repeat(2, 1fr) [container-end]
    var(--grid-margin) [margin-end];

  /**
   * --spacing isn't * 3 as the gutter is included.
   * The gutter here is using a gap-x-4 so that plus --spacing is equal to 24px
   */
  --grid-8: [margin-start] var(--spacing) [container-start content-start
    prose-start] repeat(8, minmax(0, 1fr)) [prose-end content-end container-end]
    var(--spacing) [margin-end];

  --grid-16: [margin-start] var(--grid-margin) [container-start]
    repeat(2, minmax(0, 1fr)) [content-start] repeat(2, minmax(0, 1fr))
    [prose-start] repeat(8, minmax(0, 1fr)) [prose-end]
    repeat(2, minmax(0, 1fr)) [content-end] repeat(2, minmax(0, 1fr))
    [container-end] var(--grid-margin) [margin-end];

  /**
   * Overridable capability for tailwind
   */
  --ui-border-color: rgba(117, 99, 98, 0.14);
  --ui-border-color-strong: rgba(117, 99, 98, 0.16);
  --ui-border-color-hover: rgba(117, 99, 98, 0.22);
  --ui-border-color-strong-hover: rgba(117, 99, 98, 0.24);
}

@layer utilities {
  .sl-r {
    stroke-linecap: round;
    stroke-linejoin: round;
  }

  .sl-s {
    stroke-linejoin: round;
    stroke-linecap: square;
  }

  .font-variation-medium {
    font-variation-settings: 'wdth' 100, 'wght' 800;
  }

  .font-variation-bold {
    font-variation-settings: 'wdth' 100, 'wght' 700;
  }

  .font-variation-extrabold {
    font-variation-settings: 'wdth' 100, 'wght' 750;
  }

  .col-container {
    grid-column-start: container-start;
    grid-column-end: container-end;
  }

  .bg-rule {
    background-image: url('data:image/svg+xml,<svg width="20" height="2" viewBox="0 0 20 2" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 1H19" stroke="%23CBBAB7" stroke-width="2" stroke-linecap="round" stroke-dasharray="2 8"/></svg>');
  }

  .font-variation-bold {
    font-variation-settings: 'wdth' 100, 'wght' 700;
  }

  .font-variation-extrabold {
    font-variation-settings: 'wdth' 100, 'wght' 750;
  }

  .content-grid {
    grid-template-columns: repeat(auto-fill, minmax(288px, 1fr));
    grid-template-rows: masonry;
    align-tracks: end, start, end, space-between;
  }

  .drop-shadow-placed {
    filter: drop-shadow(0px 8px 12px rgba(117, 99, 98, 0.12))
      drop-shadow(0px 3px 4px rgba(117, 99, 98, 0.12));
  }

  .frame {
    border-style: solid;
    border-width: 2px;
    border-image-repeat: round;
  }

  .frame-40 {
    border-image-source: url('/images/rounded-border-40px.svg');
    border-image-slice: 46.75324675%;
    border-image-width: 4.5rem;
  }

  .frame-16 {
    border-image-source: url('/images/rounded-border-16px.svg');
    border-image-slice: 46.75324675%;
    border-image-width: 4.5rem;
  }

  .frame-outset-top {
    border-image-outset: 3.55rem 0 0;
  }
}

.layout {
  grid-template-columns: var(--grid-8);

  @screen md {
    grid-template-columns: var(--grid-16);
  }
}
